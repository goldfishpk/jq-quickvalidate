/* --------------------------------------------------------

    jq-quickvalidate 1.2

    * Author: Cedric Ruiz
    * License: GPLv2
    * Website: https://github.com/elclanrs/jq-quickvalidate

-------------------------------------------------------- */(function(a){"use strict";var b={getKeys:function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},getMaxWidth:function(b){var c=0;return b.each(function(){a(this).outerWidth()>c&&(c=a(this).outerWidth())}),c},getLessVar:function(b,c){var d=a('<p class="'+b+'"></p>').hide().appendTo("body").css(c);return a("."+b).remove(),/\d+/.test(d)?parseInt(d,10):d}},c={number:{regex:/\d+/,error:"Must be a number."},digits:{regex:/^\d+$/,error:"Must be only digits."},name:{regex:/^[A-Za-z]{3,}$/,error:"Must be at least 3 characters long, and must only contain letters."},username:{regex:/^[a-z](?=[\w.]{3,31}$)\w*\.?\w*$/i,error:"Must be at between 4 and 32 characters long and start with a letter. You may use letters, numbers, underscores, and one dot (.)"},pass:{regex:/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/,error:"Must be at least 6 characters long, and contain at least one number, one uppercase and one lowercase letter."},strongpass:{regex:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,error:"Must be at least 8 characters long and contain at least one uppercase and one lowercase letter and one number or special character."},email:{regex:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/,error:"Must be a valid e-mail address. <em>(e.g. user@gmail.com)</em>"},phone:{regex:/^[2-9]\d{2}-\d{3}-\d{4}$/,error:"Must be a valid US phone number. <em>(e.g. 555-123-4567)</em>"},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,error:"Must be a valid US zip code. <em>(e.g. 33245 or 33245-0003)</em>"},url:{regex:/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{3,6}$/i,error:"Must be a valid URL. <em>(e.g. www.google.com)</em>"},min:{regex:function(a,b){return this.error="Must be at least "+a.data.min+" characters long.",b.length>a.data.min-1}},max:{regex:function(a,b){return this.error=a.data.max+" characters max.",b.length<=a.data.max}},date:{regex:function(a,b){var c=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/.exec(b),d=function(a,b,c){return a>0&&a<13&&c>0&&c<32768&&b>0&&b<=(new Date(c,a,0)).getDate()};return c&&d(c[1],c[2],c[3])},error:"Must be a valid date. <em>(e.g. mm/dd/yyyy)</em>"},exclude:{regex:function(b,c){return this.error='"'+c+'" is not available.',!~a.inArray(c,b.data.exclude)}}};a.fn.quickValidate=function(d){var e=a.extend({inputs:{},onSuccess:function(a){alert("Thank you...")},onFail:function(){alert("The form does not validate! Check again...")},filters:{}},d),f=this,g=a('[name="'+b.getKeys(e.inputs).join('"], [name="')+'"]'),h=f.find("label"),i={init:function(){f.css("visibility","visible").addClass("qval-form"),h.width(b.getMaxWidth(h)),g.attr("autocomplete","off"),g.each(function(){var b=a(this),c=a('<span class="error" />'),d=a('<i class="valid-icon" />'),e=a("<i/>",{"class":"invalid-icon",click:function(){b.trigger("focus")}});b.is("textarea")&&c.addClass("textarea"),c.add(d).add(e).hide().insertAfter(b),b.siblings().andSelf().not("label, .error").wrapAll('<span class="field" />')}),"placeholder"in a("<input>")[0]||g.each(function(){a(this).val(a(this).attr("placeholder"))}).on({focus:function(){this.value===a(this).attr("placeholder")&&a(this).val("")},blur:function(){a(this).val()||a(this).val(a(this).attr("placeholder"))}})}(),validate:function(b,d){var e=!0,f="",g=b.filters;return!d&&/required/.test(g)&&(b.errors&&b.errors.required?f=b.errors.required:f="This field is required.",e=!1),d&&(g=g.split(/\s/),a.each(g,function(a,g){if(c[g])if(typeof c[g].regex=="function"&&!c[g].regex(b,d)||c[g].regex instanceof RegExp&&!c[g].regex.test(d))return e=!1,f=b.errors&&b.errors[g]||c[g].error,!1})),{isValid:e,error:f}},analyze:function(a,b){b=b||"";var c=e.inputs[a.attr("name")],d=a.val()===a.attr("placeholder")?"":a.val(),f=i.validate(c,d),g=a.parent().siblings(".error"),h=a.siblings(".invalid-icon"),j=a.siblings(".valid-icon");a.removeClass("invalid valid"),g.add(h).add(j).hide(),f.isValid||(a.addClass("invalid"),h.show(),b!=="blur"&&g.html(f.error).show()),d&&f.isValid&&(a.addClass("valid"),g.add(h).hide(),j.show())},responsive:function(){var c=b.getLessVar("qval-field-width","width")+h.outerWidth(),d=h.filter(function(){return a(this).html()==="&nbsp;"});f.width()<c?f.addClass("stack"):f.removeClass("stack"),f.is(".stack")?d.hide():d.show()}};return g.on("keyup focus blur",function(b){i.analyze(a(this),b.type)}).blur(),a(window).resize(function(){i.responsive()}),i.responsive(),this}})(jQuery);